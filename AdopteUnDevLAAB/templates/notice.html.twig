{% block content %}

    {% if notice is defined and notice is not null %}
        
        <script>
            document.addEventListener('DOMContentLoaded', function() {
                Swal.fire({
                    text: "Une nouvelle offre correspond à votre profil ! Cliquez sur 'Voir' pour en découvrir les détails.", 
                    icon: 'info', 
                    showCancelButton: true, 
                    confirmButtonText: 'Voir',
                    cancelButtonText: 'Ignorer'
                }).then((result) => {
                    if (result.isConfirmed) {
                        window.location.href = "{{ path('app_details_poste', { id: notice.post.id }) }}";
                    } 
                });
            });
            
        </script>

        
    {% endif %}

    {% for flash in app.flashes('success') %}
        <script>
            document.addEventListener('DOMContentLoaded', function() {
                Swal.fire({
                    position: "top-end",
                    icon: "success",
                    title: "{{ flash|e }}",
                    showConfirmButton: false,
                    timer: 3500
                });
            });
        </script>
    {% endfor %}

    {% for flash in app.flashes('error') %}
        <script>
            document.addEventListener('DOMContentLoaded', function() {
                Swal.fire({
                    position: "top-end",
                    icon: "error",
                    title: "{{ flash|e }}",
                    showConfirmButton: false,
                    timer: 3500
                });
            });
        </script>
    {% endfor %}

{% endblock %}